export default function extendLeafletView(e,o){e.extendComponentView({type:"leaflet",render(o,t,l){let n=!0;const a=o.getLeaflet(),s=l.getZr().painter.getViewportRoot().parentNode,d=o.coordinateSystem,{roam:i}=o.get("mapOptions");function r(e){if(n)return;const t=a._mapPane;let i=t.style.transform,r=0,m=0;if(i){i=i.replace("translate3d(","");let e=i.split(",");r=-parseInt(e[0],10),m=-parseInt(e[1],10)}else r=-parseInt(t.style.left,10),m=-parseInt(t.style.top,10);let f=[r,m];s.style.left=`${f[0]}px`,s.style.top=`${f[1]}px`,d.setMapOffset(f),o.__mapOffset=f;l.dispatchAction({type:"leafletRoam",animation:{duration:0}})}function m(){n||l.dispatchAction({type:"leafletRoam"})}function f(){r()}function p(){e.getInstanceByDom(l.getDom()).resize()}i&&"scale"!==i?a.dragging.enable():a.dragging.disable(),i&&"move"!==i?(a.scrollWheelZoom.enable(),a.doubleClickZoom.enable(),a.touchZoom.enable()):(a.scrollWheelZoom.disable(),a.doubleClickZoom.disable(),a.touchZoom.disable()),this._oldMoveHandler&&a.off("move",this._oldMoveHandler),this._oldZoomHandler&&a.off("zoom",this._oldZoomHandler),this._oldZoomEndHandler&&a.off("zoomend",this._oldZoomEndHandler),this._oldResizeHandler&&a.off("resize",this._oldResizeHandler),a.on("move",r),a.on("zoom",f),a.on("zoomend",m),a.on("resize",p),this._oldMoveHandler=r,this._oldZoomHandler=f,this._oldZoomEndHandler=m,this._oldResizeHandler=p,n=!1}})}