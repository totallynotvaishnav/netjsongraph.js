<!DOCTYPE html>
<html lang="en">
<head>
    <title>netjsongraph.js: basic example</title>
    <meta charset="utf-8">
    <!-- theme can be easily customized via css -->
    <link href="../src/css/netjsongraph-theme.css" rel="stylesheet">
    <link href="../src/css/netjsongraph.css" rel="stylesheet">
</head>
<body>
    <!-- <script type="text/javascript" src="../lib/socket.io.js"></script> -->
    <script type="text/javascript" src="../dist/netjsongraph.min.js"></script>
    <script type="text/javascript">
        const graph = new NetJSONGraph("./data/netjsonmap.json", {
            render: graphRender,
            // svgRender: true,
            // listenUpdateUrl: "http://localhost:8078",
            // linkStyleProperty: e => {
            //     console.log("link: ", e);
            //     return {
            //         color: 'blue',
            //         opacity: 0.5,
            //         weight: 3
            //     }
            // },
            // nodeStyleProperty: e => {
            //     console.log("node: ", e);
            //     return {
            //         color: 'red',
            //         fillColor: '#f03',
            //         fillOpacity: 0.5,
            //         radius: 8
            //     };
            // },
        });
        
        graph.render();

        switchGraphMode(graph);

        /**
         * @function
         * @name switchGraphMode
         * Add viewEye icon to change graph or map mode.
         * 
         * @param {object} _this  NetJSONGraph object
         *
         * @return {object} selectIconContainer DOM
         */

        function switchGraphMode(_this){
            let selectIconContainer = document.createElement("div"),
                iconEye = document.createElement("span");
            iconEye.setAttribute("class", "iconfont icon-eye");
            selectIconContainer.setAttribute("class", "njg-selectIcon");
            selectIconContainer.appendChild(iconEye);
            _this.el.appendChild(selectIconContainer);

            iconEye.onclick = () => {
                if(_this.config.render === mapRender){
                    _this.config.render = graphRender;
                }
                else{
                    _this.config.render = mapRender;
                }
                _this.utils.NetJSONRender();
            }

            return selectIconContainer;
        }

    </script>
</html>